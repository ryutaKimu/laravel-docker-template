# Laravel Lesson レビュー②

## Todo編集機能

### @method('PUT')を記述した行に何が出力されているか

``
<input type = "hidden" name="_method" value="put">
``

htmlの仕様ではputを送ることができません。
name属性にに_methodが記述されるとlaravelはvalue属性の値をhttpとして認識します。
なので、@method('put')を使用しています。


### findメソッドの引数に指定しているIDは何のIDか

+ todoテーブルのレコードが保持しているid
+ id絡む以外で絞り込む場合は、whereメソッドを使用します。whereメソッドはbuilderメソッドを返却し、
その中のgetを使って今回のように指定した条件で全データを取得します。

### findメソッドで実行しているSQLは何か

 ``
select * from `todos` where `todos`.`id` = ? and `todos`.`deleted_at` is null limit 1
``

+ todosテーブルのidがリクエストで指定したidと一致するもの、かつdeleted_atがnullのものを1件取得するという意味

### findメソッドで取得できる値は何か

+ オブジェクト型を返しています。

### saveメソッドは何を基準にINSERTとUPDATEを切り替えているのか

+ saveメソッドを使う前に取得したtodoモデルのプロパティにはexistsというものがあり、このtrueかfalseで見極めています。
  ``
     if ($this->exists) {
            $saved = $this->isDirty() ?
                        $this->performUpdate($query) : true;
        }
  ``

上記はModelに定義されたsaveメソッドの一部の処理です。この$thisはmodelでプロパティのexistsがtrueかどうかを検証します。
もし、existsがtrue、つまり値が入っているなら更新処理をする仕組みになっています。
## Todo論理削除

### traitとclassの違いとは

+ クラスは継承を使って他のクラスにプロパティやメソッドを追加できるが、一つのクラスしか継承ができない。
traitは何個でもクラスに追加できるので、プロパティやメソッドはいくつでも追加できる。
また、traitはプロパティやメソッドを追加することを想定して作られた機能なので、インスタンス化することはできず、
他のクラスに追加してプロパティやメソッドを使用することしかできない。

+ 継承では基本的な機能をまとめ、継承した特定のクラスに特定の機能を追加する必要がある場合など、クラス間の関係によって使い分けるべきではないかと考えました。

### traitを使用するメリットとは

+ トレイトは同時に複数のクラスに持たせることができるので、再利用性が高い。

## その他

### フレームワークとは何か

+ アプリケーションの開発のために頻繁に利用される機能を
あらかじめ揃えられたアプリケーション開発の土台。

開発効率の向上がメリットです。

具体的にはあらかじめ機能が用意されているだけではなく、コマンドで必要なファイルを作成できるので、1から作成するのではなく、
既存の機能をカスタマイズしていくことで、作業時間の単色につながる。
また、コードの記述ルールがある程度決まっているということもあり、チームでどこに何を書いたのか
確認しやすいため、メンテナンスがしやすくなることがメリットです。

### MVCはどういったアーキテクチャか

+ 三つの役割に分けて開発を行うという考えのもとに作られてアーキテクチャ
modelはデータベースへの保存、登録、削除といったデータベースとのやりとりを行う処理を担っている。
viewはmodelからcontrollerが受け取った、データを画面に表示する処理を行う。
controllerはユーザーからのリクエストに応じた処理をmodelに指示し、実行されて返却された結果をviewに返すなどを行う。
こうすることで、開発区分が明確になる。

### ORMとは何か、またLaravelが使用しているORMは何か

+ ormとはobject relational mappingのことで、プログラムの中で、扱いやすいように
　データをオブジェクトに変換する技術のこと。
  laravelで使われているのはeloquent ormというもの。

### composer.json, composer.lockとは何か

+ 両方ともライブラリやパッケージを管理するためのもの。
　違いは.composerのインストールをするときにjsonに書かれた情報を元にライブラリやパッケージをvendorディレクトリに配置するが、
二回目以降ははlockを読み取るようになっている。

composer.jsonに書かれた内容を元にパッケージやライブラリがインストールされ、これと同時にcomposer.lockが生成されます。
このlockにはインストールしたときのヴァージョンが記述されています。これを開発者同士で共有し、composer installすると
共通のバージョン、必要な依存関係のファイルもインストールされて開発を行えるのがメリット。

### composerでインストールしたパッケージ（ライブラリ）はどのディレクトリに格納されるのか

+ vendorディレクトリ

## 以下のようなRouteも定義できそうですが、put・deleteを使うのはなぜでしょう？


+ postではリソース(今回で言うと、todoのレコード)の識別番号(idのこと)を指定しなくてもサーバー側で発行し、新規作成してくれます。
  しかし、putやdeleteでは既存のリソースにアクセスして内容を変更するか削除する必要があるので、クライアント側で指定する必要があります。
  いづれも値を代入していると言う意味では同じなものの、リソースへのアクセスの違いがあります。
  このように同じようでも使い方が違うものは明示的に記載すべきだと思うので、putやdeleteを使っているのだと思います

